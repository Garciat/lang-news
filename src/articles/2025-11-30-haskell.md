---
title: "Analyzing language extension semantics"
date: 2025-11-30
language: haskell
source: "https://blog.haskell.org/investigating-language-extension-semantics/"
tags: [news]
---

[Jappie Klooster](https://blog.haskell.org/authors/jappie-klooster/)  November 30, 2025  [[Haskell Foundation](https://blog.haskell.org/categories/haskell-foundation/)] #[Community](https://blog.haskell.org/tags/community/)  #[Stability](https://blog.haskell.org/tags/stability/) 

    

Hi I'm [Jappie](https://jappie.me) and I volunteer for the [Haskell Foundation Stability Working Group](https://blog.haskell.org/stability-working-group/).
Recently we analyzed the [head.hackage](https://gitlab.haskell.org/ghc/head.hackage) patches to understand
why code breaks on new GHC releases.
"head.hackage" is a repository of patches for Hackage.
GHC engineers use these to test out new GHC builds on a wide range of
Hackage packages without having to upstream[1](#upstream) a patch, which can take time.
Instead, they can put the patch in "head.hackage"
and immediately test it on a wide range of packages.
Surprisingly, most breakage wasnâ€™t caused by
[Template Haskell](https://ghc.gitlab.haskell.org/ghc/doc/users_guide/exts/template_haskell.html),
it came from deeper semantic changes in language extensions.
The meaning of (some) language extensions changed between GHC releases.
This post walks through the main categories of breakage,
why they happened, and what they tell us about long-term stability.
If you care about a smoother upgrade path for Haskell users,
we invite you to participate in the [Haskell Foundation Stability Working Group](https://blog.haskell.org/stability-working-group/).
Extending our initial [investigation](https://jappie.me/analyzing-haskell-stability.html),
We're also interested in understanding *why* breakage occurs.
So we've recently done further analysis on [head.hackage](https://ghc.gitlab.haskell.org/head.hackage/),
and learned surprisingly enough that the root cause
of a lot of breakage isn't Template Haskell,
but seems to be from language extension semantics[2](#meaning).
We're doing this investigation to understand better where efforts
should be focused in improving stability.
This gave us the following table:

NameCauseHad warnings?
Cabal-2.4.1.0.patchsimplified subsumptionno
Cabal-3.0.2.0.patchsimplified subsumptionno
Cabal-3.2.1.0.patchsimplified subsumptionno
data-r-tree-0.6.0.patchparser change (see 1)no
drinkery-0.4.patchsimplified subsumptionno
ghc-lib-parser-9.8.1.20231121.patchrename forall identifiers (2)yes
hgeometry-ipe-0.13.patchInstances moved due to splice enforcementno
singletons-3.0.2.patchadd TypeAbstractions as a language extensionyes
singletons-base-3.1.1.patchadd TypeAbstractions as a language extensionyes
vector-space-0.16.patchStar is type (4)yes

`th-compat-0.1.4.patch` was miscounted so I left that out.
Simplified subsumption appears a lot but 3 are for Cabal,
so it's only 2 real occurrences.
I'd expect that to appear a lot however,
because it was one of *the* motivating changes for a [stability working group](https://blog.haskell.org/stability-working-group/).
## Simplified subsumption

For the blissfully 

...

*Content truncated. Please visit the original article for the full post.*